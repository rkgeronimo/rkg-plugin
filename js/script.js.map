{"version":3,"sources":["Leaflet.EdgeMarker.js","TileLayer.Grayscale.js","script.js"],"names":["L","classToExtend","version","charAt","EdgeMarker","extend","options","distanceOpacity","distanceOpacityFactor","layerGroup","rotateIcons","findEdge","map","bounds","getSize","icon","iconUrl","Icon","Default","imagePath","clickable","iconSize","iconAnchor","initialize","setOptions","this","addTo","_map","_getFeatures","l","out","_layers","getLatLng","push","on","_addEdgeMarkers","addLayer","destroy","_borderMarkerLayer","off","clearLayers","removeLayer","undefined","onClick","e","setView","target","latlng","getZoom","onAdd","LayerGroup","features","getLayers","mapPixelBounds","markerWidth","markerHeight","i","length","x","y","ref","newOptions","marker","currentMarkerPosition","latLngToContainerPoint","min","max","center","getCenter","rad","Math","atan2","rad2TopLeftcorner","markerDistance","abs","PI","tan","fillOpacity","angle","rotatedMarker","containerPointToLatLng","hasLayer","RotatedMarker","Marker","statics","TRANSFORM_ORIGIN","DomUtil","testProp","_initIcon","prototype","call","_icon","style","_setPos","pos","costheta","TRANSFORM","Browser","ie","cos","sintheta","sin","filter","setAngle","ang","edgeMarker","TileLayer","Grayscale","quotaRed","quotaGreen","quotaBlue","quotaDividerTune","quotaDivider","url","crossOrigin","_makeGrayscale","tile","_createTile","img","getAttribute","canvas","document","createElement","ctx","width","height","getContext","imgd","drawImage","getImageData","pix","data","n","putImageData","setAttribute","src","toDataURL","tileLayer","grayscale","jQuery","ready","$","croDate","str","strArray","split","concat","oldLayer","mapExcursion","maxZoom","rkgScript","response","body","classList","contains","console","log","coordinates","window","zoom","attributionControl","zoomSnap","gestureHandling","gestureHandlingOptions","touch","scroll","scrollMac","excursionsNew","attribution","position","excursionsOld","nowIcon","divIcon","className","newIcon","nowIconActive","oldIconActive","markers","searchLayer","searchEdgeMarkers","oldIcon","_loop","excursionsNow","longitude","id","old","now","bindPopup","post_title","endtime","setIcon","nowLayer","_loop2","starttime","display_name","limitation","newIconActive","newLayer","_loop3","latitude","panTimeout","eOffset","offset","oldEdgeMarkers","left","popup","_source","addClass","hide","show","removeClass","topPos","top","scrollTop","getMarker","currentTarget","setTimeout","panTo","loginStatus","clearTimeout","click","css","animate","opacity","form","formData","FormData","append","remove","ajax","ajaxUrl","type","dataType","html","cords","_loop4","val","mapAdmin","layer","geocoder","lat","lng","long","zoomControl","change","activeEditor","template","name","location","terms","price","hasClass","description","tinyMCE","get","preventDefault","setContent","replace","RegExp","children","removeAttr","category","attr","toggle","slick","infinite","slidesToShow","slidesToScroll","prevArrow","nextArrow","responsive","settings","is","has","link","date","title","content","text","signclass","signtext","signdate","fileData","userData","success","contentType","fadeOut","promise","done","fadeIn","error","geocoderControlOptions","toggleClass","panToPoint","control","after","detach","appendTo","focus","blur","action","parent","prop","next","select2","reservationId","reservationEl","comment","forEach","item","itemEl","find","statusEl","mouseup","reload"],"mappings":"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","file":"script.js","sourcesContent":["(function(L) {\n  'use strict';\n  var classToExtend = 'Class';\n  if (L.version.charAt(0) !== '0') {\n    classToExtend = 'Layer';\n  }\n\n  L.EdgeMarker = L[classToExtend].extend({\n    options: {\n      distanceOpacity: false,\n      distanceOpacityFactor: 4,\n      layerGroup: null,\n      rotateIcons: true,\n      findEdge : function (map){\n        return L.bounds([0,0], map.getSize());\n      },\n      icon: L.icon({\n        iconUrl: L.Icon.Default.imagePath + '/edge-arrow-marker.png',\n        clickable: true,\n        iconSize: [48, 48],\n        iconAnchor: [24, 24]\n      })\n    },\n\n    initialize: function(options) {\n      L.setOptions(this, options);\n    },\n\n    addTo: function(map) {\n      this._map = map;\n\n      // add a method to get applicable features\n      if (typeof map._getFeatures !== 'function') {\n        L.extend(map, {\n          _getFeatures: function() {\n            var out = [];\n            for (var l in this._layers) {\n              if (typeof this._layers[l].getLatLng !== 'undefined') {\n                out.push(this._layers[l]);\n              }\n            }\n            return out;\n          }\n        });\n      }\n\n      map.on('move', this._addEdgeMarkers, this);\n      map.on('viewreset', this._addEdgeMarkers, this);\n\n      this._addEdgeMarkers();\n\n      map.addLayer(this);\n\n      return this;\n    },\n\n    destroy: function() {\n      if (this._map && this._borderMarkerLayer) {\n        this._map.off('move', this._addEdgeMarkers, this);\n        this._map.off('viewreset', this._addEdgeMarkers, this);\n\n        this._borderMarkerLayer.clearLayers();\n        this._map.removeLayer(this._borderMarkerLayer);\n\n        delete this._map._getFeatures;\n\n        this._borderMarkerLayer = undefined;\n      }\n    },\n\n    onClick: function(e) {\n      this._map.setView(e.target.options.latlng, this._map.getZoom());\n    },\n\n    onAdd: function() {},\n\n    _borderMarkerLayer: undefined,\n\n    _addEdgeMarkers: function() {\n      if (typeof this._borderMarkerLayer === 'undefined') {\n        this._borderMarkerLayer = new L.LayerGroup();\n      }\n      this._borderMarkerLayer.clearLayers();\n\n      var features = [];\n      if (this.options.layerGroup != null) {\n        features = this.options.layerGroup.getLayers();\n      } else {\n        features = this._map._getFeatures();\n      }\n\n      var mapPixelBounds = this.options.findEdge(this._map);\n\n      var markerWidth = this.options.icon.options.iconSize[0];\n      var markerHeight = this.options.icon.options.iconSize[1];\n\n      for (var i = 0; i < features.length; i++) {\n        var currentMarkerPosition = this._map.latLngToContainerPoint(\n          features[i].getLatLng()\n        );\n\n        if (currentMarkerPosition.y < mapPixelBounds.min.y ||\n          currentMarkerPosition.y > mapPixelBounds.max.y ||\n          currentMarkerPosition.x > mapPixelBounds.max.x ||\n          currentMarkerPosition.x < mapPixelBounds.min.x\n        ) {\n          // get pos of marker\n          var x = currentMarkerPosition.x;\n          var y = currentMarkerPosition.y;\n          var markerDistance;\n\n          // we want to place EdgeMarker on the line from center screen to target,\n          // and against the border of the screen\n          // we know angel and its x or y cordiante\n          // (depending if we want to place it against top/bottom edge or left right edge)\n          // fromthat we can calculate the other cordinate\n          var center = mapPixelBounds.getCenter();\n\n          var rad = Math.atan2(center.y - y, center.x - x);\n          var rad2TopLeftcorner = Math.atan2(center.y-mapPixelBounds.min.y,center.x-mapPixelBounds.min.x);\n\n          // target is in between diagonals window/ hourglass\n          // more out in y then in x\n          if (Math.abs(rad) > rad2TopLeftcorner && Math.abs (rad) < Math.PI -rad2TopLeftcorner) {\n\n            // bottom out\n            if (y < center.y ){\n              y = mapPixelBounds.min.y + markerHeight/2;\n              x = center.x -  (center.y-y) / Math.tan(Math.abs(rad));\n              markerDistance = currentMarkerPosition.y - mapPixelBounds.y;\n            // top out\n            }else{\n              y = mapPixelBounds.max.y - markerHeight/2;\n              x = center.x - (y-center.y)/ Math.tan(Math.abs(rad));\n              markerDistance = -currentMarkerPosition.y;\n            }\n          }else {\n\n            // left out\n            if (x < center.x ){\n              x = mapPixelBounds.min.x + markerWidth/2;\n              y = center.y -  (center.x-x ) *Math.tan(rad);\n              markerDistance = -currentMarkerPosition.x;\n            // right out\n            }else{\n              x = mapPixelBounds.max.x - markerWidth/2;\n              y = center.y +  (x - center.x) *Math.tan(rad);\n              markerDistance = currentMarkerPosition.x - mapPixelBounds.x;\n            }\n          }\n          // correction so that is always has same distance to edge\n\n          // top out (top has y=0)\n          if (y < mapPixelBounds.min.y + markerHeight/2) {\n            y = mapPixelBounds.min.y + markerHeight/2;\n            // bottom out\n          }\n          else if (y > mapPixelBounds.max.y - markerHeight/2) {\n            y = mapPixelBounds.max.y - markerHeight/2 ;\n          }\n          // right out\n          if (x > mapPixelBounds.max.x - markerWidth / 2) {\n            x = mapPixelBounds.max.x - markerWidth / 2;\n            // left out\n          } else if (x < markerWidth / 2) {\n            x = mapPixelBounds.min.x + markerWidth / 2;\n          }\n\n          // change opacity on distance\n          var newOptions = this.options;\n          if (this.options.distanceOpacity) {\n            newOptions.fillOpacity =\n              (100 - markerDistance / this.options.distanceOpacityFactor) / 100;\n          }\n\n          // rotate markers\n          if (this.options.rotateIcons) {\n            var angle = rad / Math.PI * 180;\n            newOptions.angle = angle;\n          }\n\n          var ref = { latlng: features[i].getLatLng() };\n          newOptions = L.extend({}, newOptions, ref);\n\n          var marker = L.rotatedMarker(\n            this._map.containerPointToLatLng([x, y]),\n            newOptions\n          ).addTo(this._borderMarkerLayer);\n\n          marker.on('click', this.onClick, marker);\n        }\n      }\n      if (!this._map.hasLayer(this._borderMarkerLayer)) {\n        this._borderMarkerLayer.addTo(this._map);\n      }\n    }\n  });\n\n  /*\n   * L.rotatedMarker class is taken from https://github.com/bbecquet/Leaflet.PolylineDecorator.\n   */\n  L.RotatedMarker = L.Marker.extend({\n    options: {\n      angle: 0\n    },\n\n    statics: {\n      TRANSFORM_ORIGIN: L.DomUtil.testProp([\n        'transformOrigin',\n        'WebkitTransformOrigin',\n        'OTransformOrigin',\n        'MozTransformOrigin',\n        'msTransformOrigin'\n      ])\n    },\n\n    _initIcon: function() {\n      L.Marker.prototype._initIcon.call(this);\n\n      this._icon.style[L.RotatedMarker.TRANSFORM_ORIGIN] = '50% 50%';\n    },\n\n    _setPos: function(pos) {\n      L.Marker.prototype._setPos.call(this, pos);\n\n      if (L.DomUtil.TRANSFORM) {\n        // use the CSS transform rule if available\n        this._icon.style[L.DomUtil.TRANSFORM] +=\n          ' rotate(' + this.options.angle + 'deg)';\n      } else if (L.Browser.ie) {\n        // fallback for IE6, IE7, IE8\n        var rad = this.options.angle * (Math.PI / 180),\n          costheta = Math.cos(rad),\n          sintheta = Math.sin(rad);\n        this._icon.style.filter +=\n          \" progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11=\" +\n          costheta +\n          ', M12=' +\n          -sintheta +\n          ', M21=' +\n          sintheta +\n          ', M22=' +\n          costheta +\n          ')';\n      }\n    },\n\n    setAngle: function(ang) {\n      this.options.angle = ang;\n    }\n  });\n\n  L.rotatedMarker = function(pos, options) {\n    return new L.RotatedMarker(pos, options);\n  };\n\n  L.edgeMarker = function(options) {\n    return new L.EdgeMarker(options);\n  };\n})(L);\n","/*\n * L.TileLayer.Grayscale is a regular tilelayer with grayscale makeover.\n */\n\nL.TileLayer.Grayscale = L.TileLayer.extend({\n\toptions: {\n\t\tquotaRed: 21,\n\t\tquotaGreen: 71,\n\t\tquotaBlue: 8,\n\t\tquotaDividerTune: 0,\n\t\tquotaDivider: function() {\n\t\t\treturn this.quotaRed + this.quotaGreen + this.quotaBlue + this.quotaDividerTune;\n\t\t}\n\t},\n\n\tinitialize: function (url, options) {\n\t\toptions = options || {}\n\t\toptions.crossOrigin = true;\n\t\tL.TileLayer.prototype.initialize.call(this, url, options);\n\n\t\tthis.on('tileload', function(e) {\n\t\t\tthis._makeGrayscale(e.tile);\n\t\t});\n\t},\n\n\t_createTile: function () {\n\t\tvar tile = L.TileLayer.prototype._createTile.call(this);\n\t\ttile.crossOrigin = \"Anonymous\";\n\t\treturn tile;\n\t},\n\n\t_makeGrayscale: function (img) {\n\t\tif (img.getAttribute('data-grayscaled'))\n\t\t\treturn;\n\n                img.crossOrigin = '';\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.width = img.width;\n\t\tcanvas.height = img.height;\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tctx.drawImage(img, 0, 0);\n\n\t\tvar imgd = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\t\tvar pix = imgd.data;\n\t\tfor (var i = 0, n = pix.length; i < n; i += 4) {\n                        pix[i] = pix[i + 1] = pix[i + 2] = (this.options.quotaRed * pix[i] + this.options.quotaGreen * pix[i + 1] + this.options.quotaBlue * pix[i + 2]) / this.options.quotaDivider();\n\t\t}\n\t\tctx.putImageData(imgd, 0, 0);\n\t\timg.setAttribute('data-grayscaled', true);\n\t\timg.src = canvas.toDataURL();\n\t}\n});\n\nL.tileLayer.grayscale = function (url, options) {\n\treturn new L.TileLayer.Grayscale(url, options);\n};\n","/* global rkgScript */\njQuery(document).ready(($) => {\n    const loginStatus = {action: 'is_user_logged_in'};\n    const croDate = (str) => {\n        const strArray = str.split('-');\n        return `${strArray[2]}.${strArray[1]}.${strArray[0]}.`;\n    };\n    const layer = L.tileLayer.grayscale(\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png',\n        {\n            maxZoom: 18,\n            attribution:\n            '<a href=\"https://wikimediafoundation.org/wiki/Maps_Terms_of_Use\">Wikimedia</a>  &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n        },\n    );\n\n    // const layer = L.tileLayer(\n    //    'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',\n    //    {\n    //        maxZoom: 18,\n    //        attribution:\n    //        '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n    //    },\n    // );\n\n    let coordinates = null;\n    let zoom = 7.5;\n    if (typeof rkgScript !== 'undefined') {\n        const response = document.body.classList.contains('logged-in');\n        console.log(response);\n        if (response === true) {\n            coordinates = [44.30, 16.5];\n        } else {\n            coordinates = [44.30, 15];\n        }\n        if ($(window).width() <= 1080) {\n            coordinates = [44.40, 16.3];\n            zoom = 6.5;\n        }\n\n        if ($('#rkg-map').length) {\n            const map = L.map('rkg-map', {\n                attributionControl: false,\n                // zoomControl: false,\n                zoomSnap: 0.25,\n                gestureHandling: true,\n                gestureHandlingOptions: {\n                    text: {\n                        touch: 'Koristi dva prsta za mapu',\n                        scroll: 'ctrl + scroll',\n                        scrollMac: '\\u2318 + scroll',\n                    },\n                },\n            }).setView(coordinates, zoom);\n            L.control.attribution({position: 'bottomleft'}).addTo(map);\n            map.addLayer(layer);\n\n            const excursionsNew = $('#excursions').data('new');\n            const excursionsNow = $('#excursions').data('now');\n            const excursionsOld = $('#excursions').data('old');\n            const nowIcon = L.divIcon({\n                className: 'now-div-icon',\n                iconSize: [14, 14],\n            });\n            const newIcon = L.divIcon({\n                className: 'new-div-icon',\n                iconSize: [14, 14],\n            });\n            const oldIcon = L.divIcon({\n                className: 'old-div-icon',\n                iconSize: [14, 14],\n            });\n            const newIconActive = L.divIcon({\n                className: 'new-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const nowIconActive = L.divIcon({\n                className: 'now-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const oldIconActive = L.divIcon({\n                className: 'old-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const nowLayer = L.layerGroup();\n            const newLayer = L.layerGroup();\n            const oldLayer = L.layerGroup();\n            const markers = {};\n            let bounds;\n            let searchLayer =  L.layerGroup();\n            let searchEdgeMarkers = L.edgeMarker({\n                icon: oldIcon,\n                rotateIcons: true,\n                layerGroup: searchLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            });\n\n            for (let i = 0; i < excursionsNow.length; i++) {\n                if ((excursionsNow[i].longitude !== '')\n                    && (excursionsNow[i].longitude !== '0')\n                ) {\n                    markers[excursionsNow[i].id] = L.marker(\n                        [excursionsNow[i].latitude, excursionsNow[i].longitude],\n                        {\n                            icon: nowIcon,\n                            id: excursionsNow[i].id,\n                            old: false,\n                            now: true,\n                        },\n                    );\n                    markers[excursionsNow[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-now\">${excursionsNow[i].post_title}</b><br>\n                ${croDate(excursionsNow[i].starttime)} - ${croDate(excursionsNow[i].endtime)}<br>\n                Organizator: ${excursionsNow[i].display_name}<br>\n                Planirano osoba: ${excursionsNow[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsNow[i].id].setIcon(nowIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsNow[i].id].setIcon(nowIcon);\n                    });\n                    nowLayer.addLayer(markers[excursionsNow[i].id]);\n                }\n            }\n            nowLayer.addTo(map);\n            for (let i = 0; i < excursionsNew.length; i++) {\n                if ((excursionsNew[i].longitude !== '')\n                    && (excursionsNew[i].longitude !== '0')\n                ) {\n                    markers[excursionsNew[i].id] = L.marker(\n                        [excursionsNew[i].latitude, excursionsNew[i].longitude],\n                        {\n                            icon: newIcon,\n                            id: excursionsNew[i].id,\n                            old: false,\n                            now: false,\n                        },\n                    );\n                    markers[excursionsNew[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-new\">${excursionsNew[i].post_title}</b><br>\n                ${croDate(excursionsNew[i].starttime)} - ${croDate(excursionsNew[i].endtime)}<br>\n                Organizator: ${excursionsNew[i].display_name}<br>\n                Planirano osoba: ${excursionsNew[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsNew[i].id].setIcon(newIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsNew[i].id].setIcon(newIcon);\n                    });\n                    newLayer.addLayer(markers[excursionsNew[i].id]);\n                }\n            }\n            newLayer.addTo(map);\n            for (let i = 0; i < excursionsOld.length; i++) {\n                if ((excursionsOld[i].longitude !== '')\n                    && (excursionsOld[i].longitude !== '0')\n                ) {\n                    markers[excursionsOld[i].id] = L.marker(\n                        [excursionsOld[i].latitude, excursionsOld[i].longitude],\n                        {\n                            icon: oldIcon,\n                            id: excursionsOld[i].id,\n                            old: true,\n                            now: false,\n                        },\n                    );\n                    markers[excursionsOld[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-old\">${excursionsOld[i].post_title}</b><br>\n                ${croDate(excursionsOld[i].starttime)} - ${croDate(excursionsOld[i].endtime)}<br>\n                Organizator: ${excursionsOld[i].display_name}<br>\n                Planirano osoba: ${excursionsOld[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsOld[i].id].setIcon(oldIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsOld[i].id].setIcon(oldIcon);\n                    });\n                    oldLayer.addLayer(markers[excursionsOld[i].id]);\n                }\n            }\n            oldLayer.addTo(map);\n            const eOffset = $('#excursions').offset();\n\n            bounds = map.getSize();\n            if ($(window).width() > 1080) {\n                if (response === true) {\n                    bounds = [eOffset.left, map.getSize().y];\n                }\n            }\n            L.edgeMarker({\n                icon: nowIcon,\n                rotateIcons: true,\n                layerGroup: nowLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            }).addTo(map);\n            L.edgeMarker({\n                icon: newIcon,\n                rotateIcons: true,\n                layerGroup: newLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            }).addTo(map);\n\n            const oldEdgeMarkers = L.edgeMarker({\n                icon: oldIcon,\n                rotateIcons: true,\n                layerGroup: oldLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            });\n            oldEdgeMarkers.addTo(map);\n\n            map.on('popupopen', (e) => {\n                const marker = e.popup._source.options;\n                const target = $(`#excursion-${marker.id}`);\n                console.log(target);\n                target.addClass('active');\n                if (marker.old) {\n                    $('.excursion-new-container').hide();\n                    $('.excursion-old-container').show();\n                    $('.button-excursion-old').addClass('active');\n                    $('.button-excursion-new').removeClass('active');\n                    $('.excursion-gradient').addClass('old');\n                    $('#excursions').addClass('excursions-old');\n                    const topPos = target.position().top;\n                    $('.excursion-old-container').scrollTop(topPos);\n                } else {\n                    $('.excursion-old-container').hide();\n                    $('.excursion-new-container').show();\n                    $('.button-excursion-new').addClass('active');\n                    $('.button-excursion-old').removeClass('active');\n                    $('.excursion-gradient').removeClass('old');\n                    $('#excursions').removeClass('excursions-old');\n                    const topPos = target.position().top;\n                    $('.excursion-new-container').scrollTop(topPos);\n                }\n            });\n            map.on('popupclose', () => {\n                $('.excursion').removeClass('active');\n            });\n            let panTimeout;\n            $('.excursion').hover(\n                (e) => {\n                    const getMarker = $(e.currentTarget).data('marker');\n                    const marker = markers[getMarker.id];\n                    if (marker.options.old) {\n                        marker.setIcon(oldIconActive);\n                    } else if (marker.options.now) {\n                        marker.setIcon(nowIconActive);\n                    } else {\n                        marker.setIcon(newIconActive);\n                    }\n                    panTimeout = setTimeout(() => {\n                        map.panTo(marker.getLatLng());\n                    }, 1000);\n                },\n                (e) => {\n                    const getMarker = $(e.currentTarget).data('marker');\n                    const marker = markers[getMarker.id];\n                    if (marker.options.old) {\n                        marker.setIcon(oldIcon);\n                    } else if (marker.options.now) {\n                        marker.setIcon(nowIcon);\n                    } else {\n                        marker.setIcon(newIcon);\n                    }\n                    clearTimeout(panTimeout);\n                },\n            );\n\n            $('.excursion-block-btn').click((e) => {\n                $(e.currentTarget).hide();\n                $('.excursion-block-search-btn').css('display', 'block');\n                $('.excursion-block-search').animate({\n                    height: 'toggle',\n                    opacity: 'toggle',\n                }, 'fast');\n            });\n\n            $('#excursion-block-search-form').submit((e) => {\n                e.preventDefault();\n                const form = (e.currentTarget);\n                const formData = new FormData(form);\n                formData.append('action', 'excursion_search');\n                oldLayer.remove();\n                oldEdgeMarkers.destroy();\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n\n                jQuery.ajax({\n                    url: rkgScript.ajaxUrl,\n                    type: 'POST',\n                    contentType: false,\n                    processData: false,\n                    dataType: 'json',\n                    data: formData,\n                    success(response) {\n                        console.log(response);\n                        $('.excursion-old-container-list-serarch').html(response.html);\n                        $('.excursion-old-container-list-serarch').show();\n                        $('.excursion-old-container-list').hide();\n                        searchLayer = L.layerGroup();\n                        for (let i = 0; i < response.cords.length; i++) {\n                            markers[response.cords[i].id] = L.marker(\n                                [response.cords[i].latitude, response.cords[i].longitude],\n                                {\n                                    icon: oldIcon,\n                                    id: response.cords[i].id,\n                                    old: true,\n                                    now: false,\n                                },\n                            );\n                            markers[response.cords[i].id].bindPopup(\n                                `<b class=\"leaflet-popup-bold-old\">${response.cords[i].post_title}</b><br>\n                ${croDate(response.cords[i].starttime)} - ${croDate(response.cords[i].endtime)}<br>\n                Organizator: ${response.cords[i].display_name}<br>\n                Planirano osoba: ${response.cords[i].limitation}`,\n                            ).on('mouseover', () => {\n                                markers[response.cords[i].id].setIcon(oldIconActive);\n                            }).on('mouseout', () => {\n                                markers[response.cords[i].id].setIcon(oldIcon);\n                            });\n                            searchLayer.addLayer(markers[response.cords[i].id]);\n                        }\n                        searchLayer.addTo(map);\n                        searchEdgeMarkers = L.edgeMarker({\n                            icon: oldIcon,\n                            rotateIcons: true,\n                            layerGroup: searchLayer,\n                            findEdge() {\n                                return L.bounds([0, 0], bounds);\n                            },\n                        });\n                        searchEdgeMarkers.addTo(map);\n                    },\n                });\n            });\n\n            $('.button-excursion-new').on('click', () => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                $('.excursion-old-container-list').show();\n                $('.excursion-old-container').hide();\n                $('.excursion-new-container').show();\n                $('.button-excursion-new').addClass('active');\n                $('.button-excursion-old').removeClass('active');\n                $('.excursion-gradient').removeClass('old');\n                $('#excursions').removeClass('excursions-old');\n            });\n\n            $('.button-excursion-old').on('click', () => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                $('.excursion-old-container-list').show();\n                $('.excursion-new-container').hide();\n                $('.excursion-old-container').show();\n                $('.button-excursion-old').addClass('active');\n                $('.button-excursion-new').removeClass('active');\n                $('.excursion-gradient').addClass('old');\n                $('#excursions').addClass('excursions-old');\n            });\n\n            $('.buton-excursion-mobile').on('click', (e) => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                if ($(e.currentTarget).hasClass('old')) {\n                    $(e.currentTarget).removeClass('old');\n                    $(e.currentTarget).addClass('new');\n                    $('.excursion-old-container-list').show();\n                    $('.excursion-new-container').hide();\n                    $('.excursion-old-container').show();\n                    $('.button-excursion-old').addClass('active');\n                    $('.button-excursion-new').removeClass('active');\n                    $('.excursion-gradient').addClass('old');\n                    $('#excursions').addClass('excursions-old');\n                } else {\n                    $(e.currentTarget).removeClass('new');\n                    $(e.currentTarget).addClass('old');\n                    $('.excursion-old-container-list').show();\n                    $('.excursion-old-container').hide();\n                    $('.excursion-new-container').show();\n                    $('.button-excursion-new').addClass('active');\n                    $('.button-excursion-old').removeClass('active');\n                    $('.excursion-gradient').removeClass('old');\n                    $('#excursions').removeClass('excursions-old');\n                }\n            });\n        }\n    }\n\n    if ($('#rkg-admin-map').length) {\n        const newIcon = L.divIcon(\n            {className: 'leaflet-div-icon', iconSize: [14, 14]},\n        );\n        let mapAdmin;\n        let marker;\n\n        if ($('input[name=latitude]').val()) {\n            mapAdmin = L.map('rkg-admin-map').setView(\n                [$('input[name=latitude]').val(), $('input[name=longitude]').val()],\n                15,\n            );\n            mapAdmin.addLayer(layer);\n            marker = L.marker(\n                [$('input[name=latitude]').val(), $('input[name=longitude]').val()],\n                {icon: newIcon},\n            ).addTo(mapAdmin);\n            mapAdmin.addLayer(marker);\n        } else {\n            mapAdmin = L.map('rkg-admin-map').setView([44.7, 16], 6);\n            mapAdmin.addLayer(layer);\n        }\n\n        const geocoderControlOptions = {\n            bounds: false, // To not send viewbox\n            markers: false, // To not add markers when we geocoder\n            panToPoint: false, // Since no maps, no need to pan the map to the geocoded-selected location\n        };\n\n        L.control.geocoder('bd35a36b680bdf', geocoderControlOptions).addTo(mapAdmin)\n            .on('select', (e) => {\n                if (marker) {\n                    mapAdmin.removeLayer(marker);\n                }\n                mapAdmin.setView(e.latlng, 15);\n                marker = new L.Marker(e.latlng, {icon: newIcon});\n                mapAdmin.addLayer(marker);\n                $('input[name=latitude]').val(e.latlng.lat);\n                $('input[name=longitude]').val(e.latlng.lng);\n            });\n\n        mapAdmin.on('click', (e) => {\n            if (marker) {\n                mapAdmin.removeLayer(marker);\n            }\n            marker = new L.Marker(e.latlng, {icon: newIcon});\n            mapAdmin.addLayer(marker);\n            $('input[name=latitude]').val(e.latlng.lat);\n            $('input[name=longitude]').val(e.latlng.lng);\n        });\n    }\n\n    if ($('#rkg-excursion-map').length) {\n        const lat = $('#rkg-excursion-map').data('lat');\n        const long = $('#rkg-excursion-map').data('long');\n        const newIcon = L.divIcon(\n            {className: 'new-div-icon', iconSize: [14, 14]},\n        );\n\n        const mapExcursion = L.map('rkg-excursion-map', {\n            attributionControl: false,\n            zoomControl: false,\n            zoomSnap: 0.5,\n            gestureHandling: true,\n            gestureHandlingOptions: {\n                text: {\n                    touch: 'Koristi dva prsta za mapu',\n                    scroll: 'ctrl + scroll',\n                    // scrollMac: \"\\u2318 + scroll\"\n                },\n            },\n        }).setView(\n            [lat, long],\n            15,\n        );\n        const marker = L.marker(\n            [lat, long],\n            {icon: newIcon},\n        ).addTo(mapExcursion);\n        mapExcursion.addLayer(layer);\n        mapExcursion.addLayer(marker);\n    }\n\n    $('#rkg_category').change(() => {\n        $('#title-prompt-text').hide();\n        const template = $('#rkg_category option:selected').data('template');\n        const category = $('#rkg_category option:selected').val();\n        $('#title').val(template.name);\n        $('#rkg-location').val(template.location);\n        $('#rkg-terms').val(template.terms);\n        $('#rkg-price').val(template.price);\n        $('#rkg-limitation').val(template.limitation);\n        if ($('#wp-content-wrap').hasClass('html-active')) {\n            $('#content').val(template.description);\n        } else {\n            const activeEditor = tinyMCE.get('content');\n            if (activeEditor !== null) {\n                activeEditor.setContent(template.description\n                    .replace(/\\n\\s*\\n/g, '\\n').replace(\n                        // eslint-disable-next-line no-control-regex\n                        new RegExp('\\r?\\n', 'g'), '<br />',\n                    ));\n            }\n        }\n\n        $('#rkg_organiser').children().removeAttr('selected');\n        $('.instructor-option').hide();\n        $(`#instructor-${category}`).show();\n        $('#instructor-none').attr('selected', 'selected');\n    });\n\n    $('.course-terms-control').click(() => {\n        $('.course-terms').toggle();\n        $('.course-terms-up').toggle();\n        $('.course-terms-down').toggle();\n    });\n\n    $('.rkg-course-slick').slick({\n        infinite: true,\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        prevArrow: $('.rkg-course-chevron-left'),\n        nextArrow: $('.rkg-course-chevron-right'),\n        responsive: [\n            {\n                breakpoint: 1081,\n                settings: {\n                    // centerMode: true,\n                    slidesToShow: 1,\n                    slidesToScroll: 1,\n                    // centerPadding: '25%',\n                },\n            },\n        ],\n    });\n\n    $('#rkg-starttime').change((e) => {\n        const min = $(e.currentTarget).val();\n        $('#rkg-endtime').attr('min', min);\n    });\n\n    $('.course-block-select').click((e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        $('.course-block-terms').not(`#course-block-terms-${target}`).hide();\n        $(`#course-block-terms-${target}`).animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n    });\n\n    $(document).mouseup((e) => {\n        if (!$('.course-block-select').is(e.target)\n            && $('.course-block-terms').has(e.target).length === 0) {\n            $('.course-block-terms').hide();\n        }\n    });\n\n    $('.course-block-term').click((e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        const id = $(e.currentTarget).data('id');\n        const link = $(e.currentTarget).data('link');\n        const date = $(e.currentTarget).data('date');\n        const title = $(e.currentTarget).data('title');\n        const content = $(e.currentTarget).data('content');\n        const signdate = $(e.currentTarget).data('signdate');\n        const signclass = $(e.currentTarget).data('signclass');\n        const signtext = $(e.currentTarget).data('signtext');\n        $(`#course-block-link-${target}`).attr('href', link);\n        $(`#course-block-link-more-${target}`).attr('href', link);\n        $(`#course-block-date-${target}`).text(date);\n        $(`#course-block-title-${target}`).text(title);\n        $(`#course-block-content-${target}`).text(content);\n        $(`#course-block-signup-${target}`).removeClass();\n        $(`#course-block-signup-${target}`).addClass(signclass);\n        $(`#course-block-signup-${target}`).text(signtext);\n        $(`#course-block-signup-${target}`).attr('data-course', id);\n        $(`#course-block-signup-${target}`).attr('data-name', title);\n        $(`#course-block-signup-${target}`).attr('data-date', signdate);\n        $(`#course-block-terms-${target}`).animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n        window.location = link;\n    });\n\n    $('body').on('change', '#file', (e) => {\n        const fileData = $(e.currentTarget).prop('files')[0];\n        const userData = $('#userId').val();\n        const formData = new FormData();\n        formData.append('file', fileData);\n        formData.append('user', userData);\n        formData.append('action', 'file_upload');\n\n        jQuery.ajax({\n            url: rkgScript.ajaxUrl,\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            success(response) {\n                $('#brevetShow').attr('src', response);\n            },\n        });\n    });\n\n    $('body').on('click', '.rkg-news-category', (e) => {\n        const category = $(e.currentTarget).attr('data-id');\n        const formData = new FormData();\n        formData.append('id', category);\n        formData.append('action', 'news_block_update');\n\n        jQuery.ajax({\n            url: rkgScript.ajaxUrl,\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            dataType: 'json',\n            success(response) {\n                $('.rkg-category-container').html(response.category);\n                $('.news-content-container').fadeOut('fast').promise().done(() => {\n                    $('.news-content-container').html(response.content).fadeIn('fast');\n                });\n            },\n            error(error) {\n                console.log(error);\n            },\n        });\n    });\n\n    $('.rkg-category-container').on('click', '.rkg-news-category-select', (e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        $('.rkg-news-category-select-arrow').toggleClass('up');\n        $('.rkg-news-category, .rkg-news-category-link').animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n    });\n\n    $('#misc-publishing-actions').after($('#cancle_excursion'));\n\n    $('#titlediv').before($('#rkg_category_table'));\n\n    $('#rkg_excursion_data_metabox, #rkg_course_data_metabox').detach().appendTo('#prenormal-sortables');\n\n    $('.new-inventory-icon').click((e) => {\n        $(e.currentTarget).hide();\n        $(e.currentTarget).next().show();\n    });\n\n    $('.reservation-resolve input[type=text]').focus((e) => {\n        $(e.currentTarget).removeClass('ok no');\n    }).blur((e) => {\n        const id = $(e.currentTarget).val();\n        console.log(id);\n        $.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: rkgScript.ajaxUrl,\n            data: {\n                action: 'check_inventory',\n                id,\n            },\n            success: (data) => {\n                $(e.currentTarget).addClass(data);\n            },\n            error(error) {\n                console.log(error);\n            },\n        });\n    });\n    $('label[for=role]').parent().parent().remove();\n\n    if ($('#guest_meta_check').prop('checked') == true) {\n        $('#guest_count_row').show();\n    }\n\n    $('#guest_meta_check').on('change', (e) => {\n        if ($(e.currentTarget).prop('checked') == true) {\n            $('#guest_count_row').show();\n        } else if ($(e.currentTarget).prop('checked') == false) {\n            $('#guest_count_row').hide();\n        }\n    });\n\n    $('.rkg-popover-control').click((e) => {\n        $('.rkg-popover').not($(e.currentTarget).next()).hide();\n        $(e.currentTarget).next().toggle();\n    });\n\n    $('#niid, .preSignupSelect').select2();\n\n    $('.rkg-admin-switch').click((e) => {\n        const id = $(e.currentTarget).attr('id');\n        $(e.currentTarget).toggleClass(\n            'dashicons-arrow-down-alt2 dashicons-arrow-up-alt2',\n        );\n        $(`#${id}-block`).toggle();\n    });\n\n    $('.rkg-show-map').click((e) => {\n        e.preventDefault();\n        $(e.currentTarget).toggleClass('on off');\n        $('#excursions').toggleClass('excursions-map-off');\n    });\n\n    $('.rkg-toggler, .rkg-toggler-title').click((e) => {\n        if ($(e.currentTarget).css('cursor') === 'pointer') {\n            const toggle = $(e.currentTarget).data('toggle');\n            $(e.currentTarget).find('i').toggleClass(\n                'fa-chevron-down fa-chevron-up',\n            );\n            $(`#${toggle}`).toggle();\n        }\n    });\n\n\n    // Equipment reservations / Inventory\n    $('.reservation-save').click((e) => {\n        const reservationId = e.target.getAttribute(\"data-id\");\n        const data = new FormData();\n        data.append('reservation', reservationId);\n\n        const reservationEl = $(e.target).parent().parent();\n        data.append('user_id', reservationEl.children('.column-user_id').text());\n        const definitions = ['mask', 'regulator', 'suit', 'boots', 'gloves', 'fins', 'bcd', 'lead_belt'];\n        definitions.forEach(item => {\n            const itemEl = reservationEl.find('.column-'+item+' input');\n            if (itemEl.is(\":visible\")) {\n                // Write new input value\n                data.append(item, itemEl.val());\n            } else {\n                // Write return status \n                const statusEl = reservationEl.find('.column-'+item+' select');\n                data.append(item+'_returned', statusEl.val());\n            }\n        });\n\n        const comment = reservationEl.find('.column-comment textarea');;\n        data.append('other', comment.val());\n\n        jQuery.ajax({\n            url: \"admin.php?page=reservations\",\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            dataType: 'json',\n            data,\n            success(response) {\n                console.log(response);\n            }\n        });\n        location.reload();\n    });\n});\n"]}