{"version":3,"sources":["Leaflet.EdgeMarker.js","TileLayer.Grayscale.js","script.js"],"names":["L","classToExtend","version","charAt","EdgeMarker","extend","options","distanceOpacity","distanceOpacityFactor","layerGroup","rotateIcons","findEdge","map","bounds","getSize","icon","iconUrl","Icon","Default","imagePath","clickable","iconSize","iconAnchor","initialize","setOptions","this","addTo","_map","_getFeatures","out","l","_layers","getLatLng","push","on","_addEdgeMarkers","addLayer","destroy","_borderMarkerLayer","off","clearLayers","removeLayer","undefined","onClick","e","setView","target","latlng","getZoom","onAdd","LayerGroup","features","getLayers","mapPixelBounds","markerWidth","markerHeight","i","length","currentMarkerPosition","latLngToContainerPoint","y","min","max","x","markerDistance","center","getCenter","rad","Math","atan2","rad2TopLeftcorner","abs","PI","tan","newOptions","fillOpacity","angle","ref","marker","rotatedMarker","containerPointToLatLng","hasLayer","RotatedMarker","Marker","statics","TRANSFORM_ORIGIN","DomUtil","testProp","_initIcon","prototype","call","_icon","style","_setPos","pos","TRANSFORM","Browser","ie","costheta","cos","sintheta","sin","filter","setAngle","ang","edgeMarker","TileLayer","Grayscale","quotaRed","quotaGreen","quotaBlue","quotaDividerTune","quotaDivider","url","crossOrigin","_makeGrayscale","tile","_createTile","img","getAttribute","canvas","document","createElement","width","height","ctx","getContext","drawImage","imgd","getImageData","pix","data","n","putImageData","setAttribute","src","toDataURL","tileLayer","grayscale","jQuery","ready","$","croDate","str","strArray","split","maxZoom","coordinates","zoom","rkgScript","body","classList","contains","console","log","response","attributionControl","zoomSnap","gestureHandling","gestureHandlingOptions","text","touch","scroll","scrollMac","attribution","position","layer","excursionsNew","nowIcon","divIcon","newIcon","className","oldIconActive","nowLayer","oldLayer","markers","searchLayer","searchEdgeMarkers","longitude","excursionsNow","id","latitude","bindPopup","concat","starttime","endtime","display_name","setIcon","_loop","old","now","post_title","limitation","newIconActive","_loop2","newLayer","excursionsOld","oldIcon","_loop3","eOffset","offset","window","left","panTimeout","oldEdgeMarkers","popup","_source","hide","show","addClass","removeClass","top","scrollTop","topPos","hover","getMarker","nowIconActive","setTimeout","currentTarget","clearTimeout","click","css","animate","submit","preventDefault","form","FormData","formData","append","remove","ajax","ajaxUrl","type","contentType","processData","dataType","success","html","_loop4","cords","hasClass","val","mapAdmin","control","geocoder","panToPoint","lat","lng","long","mapExcursion","change","template","category","name","terms","description","activeEditor","tinyMCE","get","replace","attr","toggle","infinite","slidesToShow","prevArrow","responsive","breakpoint","settings","slidesToScroll","not","is","signdate","link","date","content","signtext","title","fileData","prop","userData","fadeOut","promise","done","fadeIn","error","toggleClass","after","before","detach","appendTo","next","focus","action","parent","select2","find"],"mappings":"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","file":"script.js","sourcesContent":["(function(L) {\n  'use strict';\n  var classToExtend = 'Class';\n  if (L.version.charAt(0) !== '0') {\n    classToExtend = 'Layer';\n  }\n\n  L.EdgeMarker = L[classToExtend].extend({\n    options: {\n      distanceOpacity: false,\n      distanceOpacityFactor: 4,\n      layerGroup: null,\n      rotateIcons: true,\n      findEdge : function (map){\n        return L.bounds([0,0], map.getSize());\n      },\n      icon: L.icon({\n        iconUrl: L.Icon.Default.imagePath + '/edge-arrow-marker.png',\n        clickable: true,\n        iconSize: [48, 48],\n        iconAnchor: [24, 24]\n      })\n    },\n\n    initialize: function(options) {\n      L.setOptions(this, options);\n    },\n\n    addTo: function(map) {\n      this._map = map;\n\n      // add a method to get applicable features\n      if (typeof map._getFeatures !== 'function') {\n        L.extend(map, {\n          _getFeatures: function() {\n            var out = [];\n            for (var l in this._layers) {\n              if (typeof this._layers[l].getLatLng !== 'undefined') {\n                out.push(this._layers[l]);\n              }\n            }\n            return out;\n          }\n        });\n      }\n\n      map.on('move', this._addEdgeMarkers, this);\n      map.on('viewreset', this._addEdgeMarkers, this);\n\n      this._addEdgeMarkers();\n\n      map.addLayer(this);\n\n      return this;\n    },\n\n    destroy: function() {\n      if (this._map && this._borderMarkerLayer) {\n        this._map.off('move', this._addEdgeMarkers, this);\n        this._map.off('viewreset', this._addEdgeMarkers, this);\n\n        this._borderMarkerLayer.clearLayers();\n        this._map.removeLayer(this._borderMarkerLayer);\n\n        delete this._map._getFeatures;\n\n        this._borderMarkerLayer = undefined;\n      }\n    },\n\n    onClick: function(e) {\n      this._map.setView(e.target.options.latlng, this._map.getZoom());\n    },\n\n    onAdd: function() {},\n\n    _borderMarkerLayer: undefined,\n\n    _addEdgeMarkers: function() {\n      if (typeof this._borderMarkerLayer === 'undefined') {\n        this._borderMarkerLayer = new L.LayerGroup();\n      }\n      this._borderMarkerLayer.clearLayers();\n\n      var features = [];\n      if (this.options.layerGroup != null) {\n        features = this.options.layerGroup.getLayers();\n      } else {\n        features = this._map._getFeatures();\n      }\n\n      var mapPixelBounds = this.options.findEdge(this._map);\n\n      var markerWidth = this.options.icon.options.iconSize[0];\n      var markerHeight = this.options.icon.options.iconSize[1];\n\n      for (var i = 0; i < features.length; i++) {\n        var currentMarkerPosition = this._map.latLngToContainerPoint(\n          features[i].getLatLng()\n        );\n\n        if (currentMarkerPosition.y < mapPixelBounds.min.y ||\n          currentMarkerPosition.y > mapPixelBounds.max.y ||\n          currentMarkerPosition.x > mapPixelBounds.max.x ||\n          currentMarkerPosition.x < mapPixelBounds.min.x\n        ) {\n          // get pos of marker\n          var x = currentMarkerPosition.x;\n          var y = currentMarkerPosition.y;\n          var markerDistance;\n\n          // we want to place EdgeMarker on the line from center screen to target,\n          // and against the border of the screen\n          // we know angel and its x or y cordiante\n          // (depending if we want to place it against top/bottom edge or left right edge)\n          // fromthat we can calculate the other cordinate\n          var center = mapPixelBounds.getCenter();\n\n          var rad = Math.atan2(center.y - y, center.x - x);\n          var rad2TopLeftcorner = Math.atan2(center.y-mapPixelBounds.min.y,center.x-mapPixelBounds.min.x);\n\n          // target is in between diagonals window/ hourglass\n          // more out in y then in x\n          if (Math.abs(rad) > rad2TopLeftcorner && Math.abs (rad) < Math.PI -rad2TopLeftcorner) {\n\n            // bottom out\n            if (y < center.y ){\n              y = mapPixelBounds.min.y + markerHeight/2;\n              x = center.x -  (center.y-y) / Math.tan(Math.abs(rad));\n              markerDistance = currentMarkerPosition.y - mapPixelBounds.y;\n            // top out\n            }else{\n              y = mapPixelBounds.max.y - markerHeight/2;\n              x = center.x - (y-center.y)/ Math.tan(Math.abs(rad));\n              markerDistance = -currentMarkerPosition.y;\n            }\n          }else {\n\n            // left out\n            if (x < center.x ){\n              x = mapPixelBounds.min.x + markerWidth/2;\n              y = center.y -  (center.x-x ) *Math.tan(rad);\n              markerDistance = -currentMarkerPosition.x;\n            // right out\n            }else{\n              x = mapPixelBounds.max.x - markerWidth/2;\n              y = center.y +  (x - center.x) *Math.tan(rad);\n              markerDistance = currentMarkerPosition.x - mapPixelBounds.x;\n            }\n          }\n          // correction so that is always has same distance to edge\n\n          // top out (top has y=0)\n          if (y < mapPixelBounds.min.y + markerHeight/2) {\n            y = mapPixelBounds.min.y + markerHeight/2;\n            // bottom out\n          }\n          else if (y > mapPixelBounds.max.y - markerHeight/2) {\n            y = mapPixelBounds.max.y - markerHeight/2 ;\n          }\n          // right out\n          if (x > mapPixelBounds.max.x - markerWidth / 2) {\n            x = mapPixelBounds.max.x - markerWidth / 2;\n            // left out\n          } else if (x < markerWidth / 2) {\n            x = mapPixelBounds.min.x + markerWidth / 2;\n          }\n\n          // change opacity on distance\n          var newOptions = this.options;\n          if (this.options.distanceOpacity) {\n            newOptions.fillOpacity =\n              (100 - markerDistance / this.options.distanceOpacityFactor) / 100;\n          }\n\n          // rotate markers\n          if (this.options.rotateIcons) {\n            var angle = rad / Math.PI * 180;\n            newOptions.angle = angle;\n          }\n\n          var ref = { latlng: features[i].getLatLng() };\n          newOptions = L.extend({}, newOptions, ref);\n\n          var marker = L.rotatedMarker(\n            this._map.containerPointToLatLng([x, y]),\n            newOptions\n          ).addTo(this._borderMarkerLayer);\n\n          marker.on('click', this.onClick, marker);\n        }\n      }\n      if (!this._map.hasLayer(this._borderMarkerLayer)) {\n        this._borderMarkerLayer.addTo(this._map);\n      }\n    }\n  });\n\n  /*\n   * L.rotatedMarker class is taken from https://github.com/bbecquet/Leaflet.PolylineDecorator.\n   */\n  L.RotatedMarker = L.Marker.extend({\n    options: {\n      angle: 0\n    },\n\n    statics: {\n      TRANSFORM_ORIGIN: L.DomUtil.testProp([\n        'transformOrigin',\n        'WebkitTransformOrigin',\n        'OTransformOrigin',\n        'MozTransformOrigin',\n        'msTransformOrigin'\n      ])\n    },\n\n    _initIcon: function() {\n      L.Marker.prototype._initIcon.call(this);\n\n      this._icon.style[L.RotatedMarker.TRANSFORM_ORIGIN] = '50% 50%';\n    },\n\n    _setPos: function(pos) {\n      L.Marker.prototype._setPos.call(this, pos);\n\n      if (L.DomUtil.TRANSFORM) {\n        // use the CSS transform rule if available\n        this._icon.style[L.DomUtil.TRANSFORM] +=\n          ' rotate(' + this.options.angle + 'deg)';\n      } else if (L.Browser.ie) {\n        // fallback for IE6, IE7, IE8\n        var rad = this.options.angle * (Math.PI / 180),\n          costheta = Math.cos(rad),\n          sintheta = Math.sin(rad);\n        this._icon.style.filter +=\n          \" progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11=\" +\n          costheta +\n          ', M12=' +\n          -sintheta +\n          ', M21=' +\n          sintheta +\n          ', M22=' +\n          costheta +\n          ')';\n      }\n    },\n\n    setAngle: function(ang) {\n      this.options.angle = ang;\n    }\n  });\n\n  L.rotatedMarker = function(pos, options) {\n    return new L.RotatedMarker(pos, options);\n  };\n\n  L.edgeMarker = function(options) {\n    return new L.EdgeMarker(options);\n  };\n})(L);\n","/*\n * L.TileLayer.Grayscale is a regular tilelayer with grayscale makeover.\n */\n\nL.TileLayer.Grayscale = L.TileLayer.extend({\n\toptions: {\n\t\tquotaRed: 21,\n\t\tquotaGreen: 71,\n\t\tquotaBlue: 8,\n\t\tquotaDividerTune: 0,\n\t\tquotaDivider: function() {\n\t\t\treturn this.quotaRed + this.quotaGreen + this.quotaBlue + this.quotaDividerTune;\n\t\t}\n\t},\n\n\tinitialize: function (url, options) {\n\t\toptions = options || {}\n\t\toptions.crossOrigin = true;\n\t\tL.TileLayer.prototype.initialize.call(this, url, options);\n\n\t\tthis.on('tileload', function(e) {\n\t\t\tthis._makeGrayscale(e.tile);\n\t\t});\n\t},\n\n\t_createTile: function () {\n\t\tvar tile = L.TileLayer.prototype._createTile.call(this);\n\t\ttile.crossOrigin = \"Anonymous\";\n\t\treturn tile;\n\t},\n\n\t_makeGrayscale: function (img) {\n\t\tif (img.getAttribute('data-grayscaled'))\n\t\t\treturn;\n\n                img.crossOrigin = '';\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.width = img.width;\n\t\tcanvas.height = img.height;\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tctx.drawImage(img, 0, 0);\n\n\t\tvar imgd = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\t\tvar pix = imgd.data;\n\t\tfor (var i = 0, n = pix.length; i < n; i += 4) {\n                        pix[i] = pix[i + 1] = pix[i + 2] = (this.options.quotaRed * pix[i] + this.options.quotaGreen * pix[i + 1] + this.options.quotaBlue * pix[i + 2]) / this.options.quotaDivider();\n\t\t}\n\t\tctx.putImageData(imgd, 0, 0);\n\t\timg.setAttribute('data-grayscaled', true);\n\t\timg.src = canvas.toDataURL();\n\t}\n});\n\nL.tileLayer.grayscale = function (url, options) {\n\treturn new L.TileLayer.Grayscale(url, options);\n};\n","/* global rkgScript */\njQuery(document).ready(($) => {\n    const loginStatus = {action: 'is_user_logged_in'};\n    const croDate = (str) => {\n        const strArray = str.split('-');\n        return `${strArray[2]}.${strArray[1]}.${strArray[0]}.`;\n    };\n    const layer = L.tileLayer.grayscale(\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png',\n        {\n            maxZoom: 18,\n            attribution:\n            '<a href=\"https://wikimediafoundation.org/wiki/Maps_Terms_of_Use\">Wikimedia</a>  &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n        },\n    );\n\n    // const layer = L.tileLayer(\n    //    'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',\n    //    {\n    //        maxZoom: 18,\n    //        attribution:\n    //        '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n    //    },\n    // );\n\n    let coordinates = null;\n    let zoom = 7.5;\n    if (typeof rkgScript !== 'undefined') {\n        const response = document.body.classList.contains('logged-in');\n        console.log(response);\n        if (response === true) {\n            coordinates = [44.30, 16.5];\n        } else {\n            coordinates = [44.30, 15];\n        }\n        if ($(window).width() <= 1080) {\n            coordinates = [44.40, 16.3];\n            zoom = 6.5;\n        }\n\n        if ($('#rkg-map').length) {\n            const map = L.map('rkg-map', {\n                attributionControl: false,\n                // zoomControl: false,\n                zoomSnap: 0.25,\n                gestureHandling: true,\n                gestureHandlingOptions: {\n                    text: {\n                        touch: 'Koristi dva prsta za mapu',\n                        scroll: 'ctrl + scroll',\n                        scrollMac: '\\u2318 + scroll',\n                    },\n                },\n            }).setView(coordinates, zoom);\n            L.control.attribution({position: 'bottomleft'}).addTo(map);\n            map.addLayer(layer);\n\n            const excursionsNew = $('#excursions').data('new');\n            const excursionsNow = $('#excursions').data('now');\n            const excursionsOld = $('#excursions').data('old');\n            const nowIcon = L.divIcon({\n                className: 'now-div-icon',\n                iconSize: [14, 14],\n            });\n            const newIcon = L.divIcon({\n                className: 'new-div-icon',\n                iconSize: [14, 14],\n            });\n            const oldIcon = L.divIcon({\n                className: 'old-div-icon',\n                iconSize: [14, 14],\n            });\n            const newIconActive = L.divIcon({\n                className: 'new-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const nowIconActive = L.divIcon({\n                className: 'now-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const oldIconActive = L.divIcon({\n                className: 'old-div-icon-active',\n                iconSize: [20, 20],\n            });\n            const nowLayer = L.layerGroup();\n            const newLayer = L.layerGroup();\n            const oldLayer = L.layerGroup();\n            const markers = {};\n            let bounds;\n            let searchLayer =  L.layerGroup();\n            let searchEdgeMarkers = L.edgeMarker({\n                icon: oldIcon,\n                rotateIcons: true,\n                layerGroup: searchLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            });\n\n            for (let i = 0; i < excursionsNow.length; i++) {\n                if ((excursionsNow[i].longitude !== '')\n                    && (excursionsNow[i].longitude !== '0')\n                ) {\n                    markers[excursionsNow[i].id] = L.marker(\n                        [excursionsNow[i].latitude, excursionsNow[i].longitude],\n                        {\n                            icon: nowIcon,\n                            id: excursionsNow[i].id,\n                            old: false,\n                            now: true,\n                        },\n                    );\n                    markers[excursionsNow[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-now\">${excursionsNow[i].post_title}</b><br>\n                ${croDate(excursionsNow[i].starttime)} - ${croDate(excursionsNow[i].endtime)}<br>\n                Organizator: ${excursionsNow[i].display_name}<br>\n                Planirano osoba: ${excursionsNow[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsNow[i].id].setIcon(nowIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsNow[i].id].setIcon(nowIcon);\n                    });\n                    nowLayer.addLayer(markers[excursionsNow[i].id]);\n                }\n            }\n            nowLayer.addTo(map);\n            for (let i = 0; i < excursionsNew.length; i++) {\n                if ((excursionsNew[i].longitude !== '')\n                    && (excursionsNew[i].longitude !== '0')\n                ) {\n                    markers[excursionsNew[i].id] = L.marker(\n                        [excursionsNew[i].latitude, excursionsNew[i].longitude],\n                        {\n                            icon: newIcon,\n                            id: excursionsNew[i].id,\n                            old: false,\n                            now: false,\n                        },\n                    );\n                    markers[excursionsNew[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-new\">${excursionsNew[i].post_title}</b><br>\n                ${croDate(excursionsNew[i].starttime)} - ${croDate(excursionsNew[i].endtime)}<br>\n                Organizator: ${excursionsNew[i].display_name}<br>\n                Planirano osoba: ${excursionsNew[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsNew[i].id].setIcon(newIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsNew[i].id].setIcon(newIcon);\n                    });\n                    newLayer.addLayer(markers[excursionsNew[i].id]);\n                }\n            }\n            newLayer.addTo(map);\n            for (let i = 0; i < excursionsOld.length; i++) {\n                if ((excursionsOld[i].longitude !== '')\n                    && (excursionsOld[i].longitude !== '0')\n                ) {\n                    markers[excursionsOld[i].id] = L.marker(\n                        [excursionsOld[i].latitude, excursionsOld[i].longitude],\n                        {\n                            icon: oldIcon,\n                            id: excursionsOld[i].id,\n                            old: true,\n                            now: false,\n                        },\n                    );\n                    markers[excursionsOld[i].id].bindPopup(\n                        `<b class=\"leaflet-popup-bold-old\">${excursionsOld[i].post_title}</b><br>\n                ${croDate(excursionsOld[i].starttime)} - ${croDate(excursionsOld[i].endtime)}<br>\n                Organizator: ${excursionsOld[i].display_name}<br>\n                Planirano osoba: ${excursionsOld[i].limitation}`,\n                    ).on('mouseover', () => {\n                        markers[excursionsOld[i].id].setIcon(oldIconActive);\n                    }).on('mouseout', () => {\n                        markers[excursionsOld[i].id].setIcon(oldIcon);\n                    });\n                    oldLayer.addLayer(markers[excursionsOld[i].id]);\n                }\n            }\n            oldLayer.addTo(map);\n            const eOffset = $('#excursions').offset();\n\n            bounds = map.getSize();\n            if ($(window).width() > 1080) {\n                if (response === true) {\n                    bounds = [eOffset.left, map.getSize().y];\n                }\n            }\n            L.edgeMarker({\n                icon: nowIcon,\n                rotateIcons: true,\n                layerGroup: nowLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            }).addTo(map);\n            L.edgeMarker({\n                icon: newIcon,\n                rotateIcons: true,\n                layerGroup: newLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            }).addTo(map);\n\n            const oldEdgeMarkers = L.edgeMarker({\n                icon: oldIcon,\n                rotateIcons: true,\n                layerGroup: oldLayer,\n                findEdge() {\n                    return L.bounds([0, 0], bounds);\n                },\n            });\n            oldEdgeMarkers.addTo(map);\n\n            map.on('popupopen', (e) => {\n                const marker = e.popup._source.options;\n                const target = $(`#excursion-${marker.id}`);\n                console.log(target);\n                target.addClass('active');\n                if (marker.old) {\n                    $('.excursion-new-container').hide();\n                    $('.excursion-old-container').show();\n                    $('.button-excursion-old').addClass('active');\n                    $('.button-excursion-new').removeClass('active');\n                    $('.excursion-gradient').addClass('old');\n                    $('#excursions').addClass('excursions-old');\n                    const topPos = target.position().top;\n                    $('.excursion-old-container').scrollTop(topPos);\n                } else {\n                    $('.excursion-old-container').hide();\n                    $('.excursion-new-container').show();\n                    $('.button-excursion-new').addClass('active');\n                    $('.button-excursion-old').removeClass('active');\n                    $('.excursion-gradient').removeClass('old');\n                    $('#excursions').removeClass('excursions-old');\n                    const topPos = target.position().top;\n                    $('.excursion-new-container').scrollTop(topPos);\n                }\n            });\n            map.on('popupclose', () => {\n                $('.excursion').removeClass('active');\n            });\n            let panTimeout;\n            $('.excursion').hover(\n                (e) => {\n                    const getMarker = $(e.currentTarget).data('marker');\n                    const marker = markers[getMarker.id];\n                    if (marker.options.old) {\n                        marker.setIcon(oldIconActive);\n                    } else if (marker.options.now) {\n                        marker.setIcon(nowIconActive);\n                    } else {\n                        marker.setIcon(newIconActive);\n                    }\n                    panTimeout = setTimeout(() => {\n                        map.panTo(marker.getLatLng());\n                    }, 1000);\n                },\n                (e) => {\n                    const getMarker = $(e.currentTarget).data('marker');\n                    const marker = markers[getMarker.id];\n                    if (marker.options.old) {\n                        marker.setIcon(oldIcon);\n                    } else if (marker.options.now) {\n                        marker.setIcon(nowIcon);\n                    } else {\n                        marker.setIcon(newIcon);\n                    }\n                    clearTimeout(panTimeout);\n                },\n            );\n\n            $('.excursion-block-btn').click((e) => {\n                $(e.currentTarget).hide();\n                $('.excursion-block-search-btn').css('display', 'block');\n                $('.excursion-block-search').animate({\n                    height: 'toggle',\n                    opacity: 'toggle',\n                }, 'fast');\n            });\n\n            $('#excursion-block-search-form').submit((e) => {\n                e.preventDefault();\n                const form = (e.currentTarget);\n                const formData = new FormData(form);\n                formData.append('action', 'excursion_search');\n                oldLayer.remove();\n                oldEdgeMarkers.destroy();\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n\n                jQuery.ajax({\n                    url: rkgScript.ajaxUrl,\n                    type: 'POST',\n                    contentType: false,\n                    processData: false,\n                    dataType: 'json',\n                    data: formData,\n                    success(response) {\n                        console.log(response);\n                        $('.excursion-old-container-list-serarch').html(response.html);\n                        $('.excursion-old-container-list-serarch').show();\n                        $('.excursion-old-container-list').hide();\n                        searchLayer = L.layerGroup();\n                        for (let i = 0; i < response.cords.length; i++) {\n                            markers[response.cords[i].id] = L.marker(\n                                [response.cords[i].latitude, response.cords[i].longitude],\n                                {\n                                    icon: oldIcon,\n                                    id: response.cords[i].id,\n                                    old: true,\n                                    now: false,\n                                },\n                            );\n                            markers[response.cords[i].id].bindPopup(\n                                `<b class=\"leaflet-popup-bold-old\">${response.cords[i].post_title}</b><br>\n                ${croDate(response.cords[i].starttime)} - ${croDate(response.cords[i].endtime)}<br>\n                Organizator: ${response.cords[i].display_name}<br>\n                Planirano osoba: ${response.cords[i].limitation}`,\n                            ).on('mouseover', () => {\n                                markers[response.cords[i].id].setIcon(oldIconActive);\n                            }).on('mouseout', () => {\n                                markers[response.cords[i].id].setIcon(oldIcon);\n                            });\n                            searchLayer.addLayer(markers[response.cords[i].id]);\n                        }\n                        searchLayer.addTo(map);\n                        searchEdgeMarkers = L.edgeMarker({\n                            icon: oldIcon,\n                            rotateIcons: true,\n                            layerGroup: searchLayer,\n                            findEdge() {\n                                return L.bounds([0, 0], bounds);\n                            },\n                        });\n                        searchEdgeMarkers.addTo(map);\n                    },\n                });\n            });\n\n            $('.button-excursion-new').on('click', () => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                $('.excursion-old-container-list').show();\n                $('.excursion-old-container').hide();\n                $('.excursion-new-container').show();\n                $('.button-excursion-new').addClass('active');\n                $('.button-excursion-old').removeClass('active');\n                $('.excursion-gradient').removeClass('old');\n                $('#excursions').removeClass('excursions-old');\n            });\n\n            $('.button-excursion-old').on('click', () => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                $('.excursion-old-container-list').show();\n                $('.excursion-new-container').hide();\n                $('.excursion-old-container').show();\n                $('.button-excursion-old').addClass('active');\n                $('.button-excursion-new').removeClass('active');\n                $('.excursion-gradient').addClass('old');\n                $('#excursions').addClass('excursions-old');\n            });\n\n            $('.buton-excursion-mobile').on('click', (e) => {\n                oldLayer.addTo(map);\n                oldEdgeMarkers.addTo(map);\n                searchLayer.remove();\n                searchEdgeMarkers.destroy();\n                $('.excursion-block-btn').css('display', 'block');\n                $('.excursion-block-search-btn').css('display', 'none');\n                $('.excursion-block-search').hide();\n                $('.excursion-old-container-list-serarch').hide();\n                if ($(e.currentTarget).hasClass('old')) {\n                    $(e.currentTarget).removeClass('old');\n                    $(e.currentTarget).addClass('new');\n                    $('.excursion-old-container-list').show();\n                    $('.excursion-new-container').hide();\n                    $('.excursion-old-container').show();\n                    $('.button-excursion-old').addClass('active');\n                    $('.button-excursion-new').removeClass('active');\n                    $('.excursion-gradient').addClass('old');\n                    $('#excursions').addClass('excursions-old');\n                } else {\n                    $(e.currentTarget).removeClass('new');\n                    $(e.currentTarget).addClass('old');\n                    $('.excursion-old-container-list').show();\n                    $('.excursion-old-container').hide();\n                    $('.excursion-new-container').show();\n                    $('.button-excursion-new').addClass('active');\n                    $('.button-excursion-old').removeClass('active');\n                    $('.excursion-gradient').removeClass('old');\n                    $('#excursions').removeClass('excursions-old');\n                }\n            });\n        }\n    }\n\n    if ($('#rkg-admin-map').length) {\n        const newIcon = L.divIcon(\n            {className: 'leaflet-div-icon', iconSize: [14, 14]},\n        );\n        let mapAdmin;\n        let marker;\n\n        if ($('input[name=latitude]').val()) {\n            mapAdmin = L.map('rkg-admin-map').setView(\n                [$('input[name=latitude]').val(), $('input[name=longitude]').val()],\n                15,\n            );\n            mapAdmin.addLayer(layer);\n            marker = L.marker(\n                [$('input[name=latitude]').val(), $('input[name=longitude]').val()],\n                {icon: newIcon},\n            ).addTo(mapAdmin);\n            mapAdmin.addLayer(marker);\n        } else {\n            mapAdmin = L.map('rkg-admin-map').setView([44.7, 16], 6);\n            mapAdmin.addLayer(layer);\n        }\n\n        const geocoderControlOptions = {\n            bounds: false, // To not send viewbox\n            markers: false, // To not add markers when we geocoder\n            panToPoint: false, // Since no maps, no need to pan the map to the geocoded-selected location\n        };\n\n        L.control.geocoder('bd35a36b680bdf', geocoderControlOptions).addTo(mapAdmin)\n            .on('select', (e) => {\n                if (marker) {\n                    mapAdmin.removeLayer(marker);\n                }\n                mapAdmin.setView(e.latlng, 15);\n                marker = new L.Marker(e.latlng, {icon: newIcon});\n                mapAdmin.addLayer(marker);\n                $('input[name=latitude]').val(e.latlng.lat);\n                $('input[name=longitude]').val(e.latlng.lng);\n            });\n\n        mapAdmin.on('click', (e) => {\n            if (marker) {\n                mapAdmin.removeLayer(marker);\n            }\n            marker = new L.Marker(e.latlng, {icon: newIcon});\n            mapAdmin.addLayer(marker);\n            $('input[name=latitude]').val(e.latlng.lat);\n            $('input[name=longitude]').val(e.latlng.lng);\n        });\n    }\n\n    if ($('#rkg-excursion-map').length) {\n        const lat = $('#rkg-excursion-map').data('lat');\n        const long = $('#rkg-excursion-map').data('long');\n        const newIcon = L.divIcon(\n            {className: 'new-div-icon', iconSize: [14, 14]},\n        );\n\n        const mapExcursion = L.map('rkg-excursion-map', {\n            attributionControl: false,\n            zoomControl: false,\n            zoomSnap: 0.5,\n            gestureHandling: true,\n            gestureHandlingOptions: {\n                text: {\n                    touch: 'Koristi dva prsta za mapu',\n                    scroll: 'ctrl + scroll',\n                    // scrollMac: \"\\u2318 + scroll\"\n                },\n            },\n        }).setView(\n            [lat, long],\n            15,\n        );\n        const marker = L.marker(\n            [lat, long],\n            {icon: newIcon},\n        ).addTo(mapExcursion);\n        mapExcursion.addLayer(layer);\n        mapExcursion.addLayer(marker);\n    }\n\n    $('#rkg_category').change(() => {\n        $('#title-prompt-text').hide();\n        const template = $('#rkg_category option:selected').data('template');\n        const category = $('#rkg_category option:selected').val();\n        $('#title').val(template.name);\n        $('#rkg-location').val(template.location);\n        $('#rkg-terms').val(template.terms);\n        $('#rkg-price').val(template.price);\n        $('#rkg-limitation').val(template.limitation);\n        if ($('#wp-content-wrap').hasClass('html-active')) {\n            $('#content').val(template.description);\n        } else {\n            const activeEditor = tinyMCE.get('content');\n            if (activeEditor !== null) {\n                activeEditor.setContent(template.description\n                    .replace(/\\n\\s*\\n/g, '\\n').replace(\n                        // eslint-disable-next-line no-control-regex\n                        new RegExp('\\r?\\n', 'g'), '<br />',\n                    ));\n            }\n        }\n\n        $('#rkg_organiser').children().removeAttr('selected');\n        $('.instructor-option').hide();\n        $(`#instructor-${category}`).show();\n        $('#instructor-none').attr('selected', 'selected');\n    });\n\n    $('.course-terms-control').click(() => {\n        $('.course-terms').toggle();\n        $('.course-terms-up').toggle();\n        $('.course-terms-down').toggle();\n    });\n\n    $('.rkg-course-slick').slick({\n        infinite: true,\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        prevArrow: $('.rkg-course-chevron-left'),\n        nextArrow: $('.rkg-course-chevron-right'),\n        responsive: [\n            {\n                breakpoint: 1081,\n                settings: {\n                    // centerMode: true,\n                    slidesToShow: 1,\n                    slidesToScroll: 1,\n                    // centerPadding: '25%',\n                },\n            },\n        ],\n    });\n\n    $('#rkg-starttime').change((e) => {\n        const min = $(e.currentTarget).val();\n        $('#rkg-endtime').attr('min', min);\n    });\n\n    $('.course-block-select').click((e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        $('.course-block-terms').not(`#course-block-terms-${target}`).hide();\n        $(`#course-block-terms-${target}`).animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n    });\n\n    $(document).mouseup((e) => {\n        if (!$('.course-block-select').is(e.target)\n            && $('.course-block-terms').has(e.target).length === 0) {\n            $('.course-block-terms').hide();\n        }\n    });\n\n    $('.course-block-term').click((e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        const id = $(e.currentTarget).data('id');\n        const link = $(e.currentTarget).data('link');\n        const date = $(e.currentTarget).data('date');\n        const title = $(e.currentTarget).data('title');\n        const content = $(e.currentTarget).data('content');\n        const signdate = $(e.currentTarget).data('signdate');\n        const signclass = $(e.currentTarget).data('signclass');\n        const signtext = $(e.currentTarget).data('signtext');\n        $(`#course-block-link-${target}`).attr('href', link);\n        $(`#course-block-link-more-${target}`).attr('href', link);\n        $(`#course-block-date-${target}`).text(date);\n        $(`#course-block-title-${target}`).text(title);\n        $(`#course-block-content-${target}`).text(content);\n        $(`#course-block-signup-${target}`).removeClass();\n        $(`#course-block-signup-${target}`).addClass(signclass);\n        $(`#course-block-signup-${target}`).text(signtext);\n        $(`#course-block-signup-${target}`).attr('data-course', id);\n        $(`#course-block-signup-${target}`).attr('data-name', title);\n        $(`#course-block-signup-${target}`).attr('data-date', signdate);\n        $(`#course-block-terms-${target}`).animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n    });\n\n    $('body').on('change', '#file', (e) => {\n        const fileData = $(e.currentTarget).prop('files')[0];\n        const userData = $('#userId').val();\n        const formData = new FormData();\n        formData.append('file', fileData);\n        formData.append('user', userData);\n        formData.append('action', 'file_upload');\n\n        jQuery.ajax({\n            url: rkgScript.ajaxUrl,\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            success(response) {\n                $('#brevetShow').attr('src', response);\n            },\n        });\n    });\n\n    $('body').on('click', '.rkg-news-category', (e) => {\n        const category = $(e.currentTarget).attr('data-id');\n        const formData = new FormData();\n        formData.append('id', category);\n        formData.append('action', 'news_block_update');\n\n        jQuery.ajax({\n            url: rkgScript.ajaxUrl,\n            type: 'POST',\n            contentType: false,\n            processData: false,\n            data: formData,\n            dataType: 'json',\n            success(response) {\n                $('.rkg-category-container').html(response.category);\n                $('.news-content-container').fadeOut('fast').promise().done(() => {\n                    $('.news-content-container').html(response.content).fadeIn('fast');\n                });\n            },\n            error(error) {\n                console.log(error);\n            },\n        });\n    });\n\n    $('.rkg-category-container').on('click', '.rkg-news-category-select', (e) => {\n        e.preventDefault();\n        const target = $(e.currentTarget).data('target');\n        $('.rkg-news-category-select-arrow').toggleClass('up');\n        $('.rkg-news-category, .rkg-news-category-link').animate({\n            height: 'toggle',\n            opacity: 'toggle',\n        }, 'fast');\n    });\n\n    $('#misc-publishing-actions').after($('#cancle_excursion'));\n\n    $('#titlediv').before($('#rkg_category_table'));\n\n    $('#rkg_excursion_data_metabox, #rkg_course_data_metabox').detach().appendTo('#prenormal-sortables');\n\n    $('.new-inventory-icon').click((e) => {\n        $(e.currentTarget).hide();\n        $(e.currentTarget).next().show();\n    });\n\n    $('.reservation-resolve input[type=text]').focus((e) => {\n        $(e.currentTarget).removeClass('ok no');\n    }).blur((e) => {\n        const id = $(e.currentTarget).val();\n        console.log(id);\n        $.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: rkgScript.ajaxUrl,\n            data: {\n                action: 'check_inventory',\n                id,\n            },\n            success: (data) => {\n                $(e.currentTarget).addClass(data);\n            },\n            error(error) {\n                console.log(error);\n            },\n        });\n    });\n    $('label[for=role]').parent().parent().remove();\n\n    $('#guest_meta_check').on('change', (e) => {\n        if ($(e.currentTarget).prop('checked') == true) {\n            $('#guest_count_row').show();\n        } else if ($(e.currentTarget).prop('checked') == false) {\n            $('#guest_count_row').hide();\n        }\n    });\n\n    $('.rkg-popover-control').click((e) => {\n        $('.rkg-popover').not($(e.currentTarget).next()).hide();\n        $(e.currentTarget).next().toggle();\n    });\n\n    $('#niid, .preSignupSelect').select2();\n\n    $('.rkg-admin-switch').click((e) => {\n        const id = $(e.currentTarget).attr('id');\n        $(e.currentTarget).toggleClass(\n            'dashicons-arrow-down-alt2 dashicons-arrow-up-alt2',\n        );\n        $(`#${id}-block`).toggle();\n    });\n\n    $('.rkg-show-map').click((e) => {\n        e.preventDefault();\n        $(e.currentTarget).toggleClass('on off');\n        $('#excursions').toggleClass('excursions-map-off');\n    });\n\n    $('.rkg-toggler, .rkg-toggler-title').click((e) => {\n        if ($(e.currentTarget).css('cursor') === 'pointer') {\n            const toggle = $(e.currentTarget).data('toggle');\n            $(e.currentTarget).find('i').toggleClass(\n                'fa-chevron-down fa-chevron-up',\n            );\n            $(`#${toggle}`).toggle();\n        }\n    });\n});\n"]}